{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SuccessLink = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _ramda = require(\"ramda\");\n\nvar _apolloLink = require(\"apollo-link\");\n\nvar SuccessLink =\n/*#__PURE__*/\nfunction (_ApolloLink) {\n  (0, _inherits2.default)(SuccessLink, _ApolloLink);\n\n  function SuccessLink(_ref) {\n    var _this;\n\n    var successHandler = _ref.successHandler;\n    (0, _classCallCheck2.default)(this, SuccessLink);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(SuccessLink).call(this));\n    _this.successHandler = successHandler;\n    return _this;\n  }\n\n  (0, _createClass2.default)(SuccessLink, [{\n    key: \"request\",\n    value: function request(operation, forward) {\n      var _this2 = this;\n\n      return new _apolloLink.Observable(function (observer) {\n        forward(operation).subscribe({\n          next: function next(data) {\n            if ((0, _ramda.not)((0, _ramda.has)('errors', data))) {\n              _this2.successHandler({\n                operation: operation,\n                data: data\n              });\n            }\n\n            observer.next(data);\n          },\n          error: function error() {\n            return observer.error.apply(observer, arguments);\n          },\n          complete: function complete() {\n            return observer.complete.apply(observer, arguments);\n          }\n        });\n      });\n    }\n  }]);\n  return SuccessLink;\n}(_apolloLink.ApolloLink);\n\nexports.SuccessLink = SuccessLink;","map":null,"metadata":{},"sourceType":"script"}